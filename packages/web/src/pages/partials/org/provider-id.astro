---
import * as v from "valibot";

import RegisterOrgProviderId from "~/components/org/provider-id.astro";
import { Registration } from "~/shared/lib/schemas";

import type { OrgProviderIdProps } from "~/types/astro-component-props";

export const partial = true;

const provider = v.parse(
  v.fallback(Registration.entries.authProvider, "entra-id"),
  Astro.url.searchParams.get("authProvider"),
);

const props = { provider } satisfies OrgProviderIdProps;
---

<RegisterOrgProviderId {...props} />
