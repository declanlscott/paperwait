---
import { validate } from "@paperwait/core/valibot";
import * as v from "valibot";

import RegisterOrgProviderId from "~/components/org/provider-id.astro";
import { Registration } from "~/shared/lib/schemas";

import type { OrgProviderIdProps } from "~/components/props";

export const partial = true;

const provider = validate(
  v.fallback(Registration.entries.authProvider, "entra-id"),
  Astro.url.searchParams.get("authProvider"),
);

const props = { provider } satisfies OrgProviderIdProps;
---

<RegisterOrgProviderId {...props} />
