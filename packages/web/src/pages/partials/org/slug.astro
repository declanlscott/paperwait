---
import { parse } from "valibot";

import OrgSlug from "~/components/org/slug.astro";
import { IsOrgSlugValid } from "~/lib/schemas";
import { POST } from "~/pages/api/organization/slug";

export const partial = true;

const response = await POST(Astro);
const data = await response.json();
const props = parse(IsOrgSlugValid, data);
---

<OrgSlug {...props} />
