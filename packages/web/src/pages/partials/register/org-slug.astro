---
import { parse } from "valibot";

import RegisterOrgSlug from "~/components/register/org-slug.astro";
import { orgSlugValiditySchema } from "~/lib/schemas";
import { POST } from "~/pages/api/organization/slug";

export const partial = true;

const response = await POST(Astro);
const data = await response.json();
const props = parse(orgSlugValiditySchema, data);
---

<RegisterOrgSlug {...props} />
