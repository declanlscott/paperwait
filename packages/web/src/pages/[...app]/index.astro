---
import { useActor } from "@printworks/core/actors/context";
import { Icon } from "astro-icon/components";
import { Resource } from "sst";

import { App } from "~/app/index";
import AppLoadingIndicator from "~/components/app-loading-indicator.astro";
import Layout from "~/layouts/app.astro";

import type { AppProps } from "~/app/index";

const appProps = {
  clientResource: Resource.Client,
  // `useActor` looks like a react hook, but it's not
  // eslint-disable-next-line react-hooks/rules-of-hooks
  actor: useActor(),
} satisfies AppProps;
---

<Layout>
  <App client:only="react" {...appProps}>
    <AppLoadingIndicator slot="loadingIndicator" />
    <Icon name="logo" slot="logo" />
  </App>
</Layout>
