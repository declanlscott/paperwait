---
import { Icon } from "astro-icon/components";

import RegistrationStep1 from "~/components/registration/step-1.astro";
import Layout from "~/layouts/layout.astro";
import { buttonStyles } from "~/styles/components/primitives/button";

export const prerender = true;
---

<Layout title="Register" htmx>
  <div class="w-full lg:grid lg:min-h-[600px] lg:grid-cols-2 xl:min-h-[800px]">
    <form
      action="/api/tenants"
      method="POST"
      class="flex items-center justify-center py-12"
    >
      <div class="mx-auto grid w-[350px] gap-6">
        <div class="flex justify-center">
          <a href="/">
            <div class="flex items-center overflow-hidden [&>svg]:size-24">
              <Icon name="logo" />
            </div>
          </a>
        </div>

        <div class="grid gap-2 text-center">
          <h1 class="text-3xl font-bold">Register</h1>
          <p class="text-balance text-muted-foreground">
            Register your organization details below.
          </p>
        </div>

        <RegistrationStep1 input={{}} />

        <p class="text-sm">
          Already have an organization? <a
            href="/login"
            class={buttonStyles({
              variant: "link",
              class: "p-0 h-fit",
              isHtml: true,
            })}>Login</a
          >
        </p>
      </div>
    </form>

    <div class="hidden bg-muted lg:block lg:max-h-screen topography"></div>
  </div>
</Layout>

<style>
  .topography {
    background-image: url("/topography.svg");
    background-repeat: repeat;
  }
</style>
