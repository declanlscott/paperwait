---
import { clientResource } from "@paperwait/core/resource";

import { App } from "~/app/index";
import AppLoadingIndicator from "~/components/app-loading-indicator.astro";
import Logo from "~/components/logo.astro";
import Layout from "~/layouts/app.astro";

import type { AppProps } from "~/app/index";

const appProps = {
  clientResource,
  auth: {
    user: Astro.locals.user,
    session: Astro.locals.session,
    org: Astro.locals.org,
  },
} satisfies AppProps;
---

<Layout>
  <App client:only="react" {...appProps}>
    <AppLoadingIndicator slot="loadingIndicator" />
    <Logo slot="logo" />
  </App>
</Layout>
